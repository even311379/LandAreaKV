
<AppContent>:
    map: mapview
    edit_btn: edit_btn
    # polygon_layer: jlayer    

    BoxLayout:
        orientation: 'vertical'

        size_hint: (1, 1-128/app.device_height)

        FloatLayout:

            MapView:
                id: mapview
                lat: 24.680
                lon: 121.7193
                zoom: 14

                # GeoJsonMapLayer:
                #     id: jlayer
                #     source: 'sample_geoj.json'
                                                

            MDFloatingActionButton:
                id: edit_btn
                icon: "pen-plus"
                md_bg_color: app.theme_cls.primary_color
                pos_hint: {'right':0.98, 'y':0.02}
                on_press: root.toggle_editmode()

            # MDFloatingActionButton:                
            #     icon: "pen-plus"
            #     md_bg_color: app.theme_cls.primary_color
            #     pos_hint: {'right':0.3, 'y':0.02}
            #     on_press: root.change_position()
                # on_press: root.change_polygon()



<ContentNavigationDrawer>:

    ScrollView:

        MDList:

            OneLineListItem:
                text: "Screen 1"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "map screen"

            OneLineListItem:
                text: "Screen 2"
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "author screen"

<AppScreen>:
    content: content

    MDToolbar:
        id: toolbar
        pos_hint: {"top": 1}
        title: 'Area Calculation'        
        left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]             


    NavigationLayout:
        x: toolbar.height


        ScreenManager:
            id: screen_manager

            Screen:

                name: "map screen"

                AppContent:
                    id: content
                    x: toolbar.height
                    

            Screen:

                name: "author screen"

                # MDLabel:
                #     text: "Thank you for using this app!"                
                #     halign: "center"

                MDLabel:
                    text: f"toolbar_height: {toolbar.height}"                
                    halign: "center"

        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                screen_manager: screen_manager
                nav_drawer: nav_drawer

    




                